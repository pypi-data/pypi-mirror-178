
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Accounting for Lino Welfare &#8212; Lino Welfare</title>
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/insipid.css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/atelier.css" />
    <link rel="stylesheet" type="text/css" href="../_static/insipid-cust.css" />

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/design-tabs.js"></script>
    <script defer src="../_static/insipid.js"></script>
    <script defer src="../_static/insipid-sidebar.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="search" title="Search" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="Incoming invoices" href="vatless.html" />
    <link rel="prev" title="Import bank statements (SEPA BankToCustomer)" href="b2c.html" />
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
  </head><body>
    <script type="text/javascript">
        document.body.classList.add('js');
    </script>
    <input type="checkbox" id="sidebar-checkbox" style="display: none;">
    <label id="overlay" for="sidebar-checkbox"></label>
    <div class="sidebar-resize-handle"></div>
    <script type="text/javascript">
        try {
            let sidebar = localStorage.getItem('sphinx-sidebar');
            const sidebar_width = localStorage.getItem('sphinx-sidebar-width');
            if (sidebar_width) {
                document.documentElement.style.setProperty('--sidebar-width', sidebar_width);
            }
            // show sidebar on wide screen
            if (!sidebar && window.matchMedia('(min-width: 100rem)').matches) {
                sidebar = 'visible';
                // NB: We don't store the value in localStorage!
            }
            if (sidebar === 'visible') {
                document.getElementById('sidebar-checkbox').checked = true;
            }
        } catch(e) {
            console.info(e);
        }
    </script>
    <header id="topbar-placeholder">
      <div id="topbar">
        <div id="titlebar">
          <div class="buttons">
            <label for="sidebar-checkbox" id="sidebar-button" role="button" tabindex="0" aria-controls="sphinxsidebar" accesskey="M">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg>
            </label><a href="../index.html" title="Lino Welfare">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"/></svg>
</a>
          </div>
          <div class="title">
            <a class="parent" href="plugins.html" accesskey="U">Plugins</a>
            <a class="top" href="#">Accounting for Lino Welfare</a>
          </div>
          <div class="buttons">
            <button id="fullscreen-button" type="button" aria-hidden="true">
              <span class="enable">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M212.686 315.314L120 408l32.922 31.029c15.12 15.12 4.412 40.971-16.97 40.971h-112C10.697 480 0 469.255 0 456V344c0-21.382 25.803-32.09 40.922-16.971L72 360l92.686-92.686c6.248-6.248 16.379-6.248 22.627 0l25.373 25.373c6.249 6.248 6.249 16.378 0 22.627zm22.628-118.628L328 104l-32.922-31.029C279.958 57.851 290.666 32 312.048 32h112C437.303 32 448 42.745 448 56v112c0 21.382-25.803 32.09-40.922 16.971L376 152l-92.686 92.686c-6.248 6.248-16.379 6.248-22.627 0l-25.373-25.373c-6.249-6.248-6.249-16.378 0-22.627z"/></svg>
              </span>
              <span class="disable">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M4.686 427.314L104 328l-32.922-31.029C55.958 281.851 66.666 256 88.048 256h112C213.303 256 224 266.745 224 280v112c0 21.382-25.803 32.09-40.922 16.971L152 376l-99.314 99.314c-6.248 6.248-16.379 6.248-22.627 0L4.686 449.941c-6.248-6.248-6.248-16.379 0-22.627zM443.314 84.686L344 184l32.922 31.029c15.12 15.12 4.412 40.971-16.97 40.971h-112C234.697 256 224 245.255 224 232V120c0-21.382 25.803-32.09 40.922-16.971L296 136l99.314-99.314c6.248-6.248 16.379-6.248 22.627 0l25.373 25.373c6.248 6.248 6.248 16.379 0 22.627z"/></svg>
              </span>
            </button><a href="https://www.facebook.com/sharer/sharer.php?u=https://welfare.lino-framework.org/specs/ledger/" title="Share on Facebook" target="_blank">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"/></svg>
</a>

<!---
<a href="https://twitter.com/share?ref_src=twsrc%5Etfw" class="twitter-share-button" data-show-count="false">Tweet</a>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
---!>

<a href="https://twitter.com/share?ref_src=https://welfare.lino-framework.org/specs/ledger/" title="Share on Twitter" target="_blank">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
</a>
          </div>
        </div>
      </div>
    </header>
    <nav>
      <a href="b2c.html" class="nav-icon previous" title="previous:&#13;Import bank statements (SEPA BankToCustomer)" aria-label="Previous topic" accesskey="P" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M31.7 239l136-136c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9L127.9 256l96.4 96.4c9.4 9.4 9.4 24.6 0 33.9L201.7 409c-9.4 9.4-24.6 9.4-33.9 0l-136-136c-9.5-9.4-9.5-24.6-.1-34z"/></svg>
      </a>
      <a href="vatless.html" class="nav-icon next" title="next:&#13;Incoming invoices" aria-label="Next topic" accesskey="N" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"/></svg>
      </a>
    </nav>

    <nav class="relbar">
      <a class="previous" href="b2c.html" aria-label="Previous topic" >
        <div class="icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"/></svg>
        </div>
        <div class="title">
          <span class="text">
            <span class="direction">previous</span>
            Import bank statements (SEPA  BankToCustomer)
          </span>
        </div>
      </a>
      <a class="next" href="vatless.html" aria-label="Next topic" >
        <div class="title">
          <span class="text">
            <span class="direction">next</span>
            Incoming invoices
          </span>
        </div>
        <div class="icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"/></svg>
        </div>
      </a>
    </nav>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
<section id="accounting-for-lino-welfare">
<span id="welfare-specs-ledger"></span><h1>Accounting for Lino Welfare<a class="headerlink" href="#accounting-for-lino-welfare" title="Permalink to this heading">¶</a></h1>
<p>This document describes the functionalities for registering and
keeping track of social aid expenses, including client-related
refunding of certain costs, disbursements of regular monthly social
aid and communication with the bank in both directions.</p>
<p>These will partly turn Lino Welfare into an accounting package.
Actually it produces a <em>subledger</em>, i.e. manages only <em>a part of</em> a
complete accounting system.</p>
<p>A first prototype was developed between May 2015 and April 2016 as
ticket <a class="reference external" href="https://jane.mylino.net/#/api/tickets/PublicTickets/143">#143</a> (“Nebenbuchhaltung Sozialhilfeausgaben”) and
related tickets. The code examples may contain German texts for
practical reasons to facilitate analysis.</p>
<p>This document extends the following specifications:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://dev.lino-framework.org/specs/accounting.html#cosi-specs-accounting" title="(in Lino Developer Guide v20.1)"><span>Accounting stuff in Lino</span></a></p></li>
<li><p><a class="reference external" href="https://dev.lino-framework.org/plugins/ledger.html#cosi-specs-ledger" title="(in Lino Developer Guide v20.1)"><span>ledger: General accounting</span></a></p></li>
</ul>
<p>This document is base for the following specifications:</p>
<ul class="simple">
<li><p><a class="reference internal" href="vatless.html"><span class="doc">Incoming invoices</span></a></p></li>
<li><p><a class="reference internal" href="finan.html"><span class="doc">Financial vouchers in Lino Welfare</span></a>.</p></li>
</ul>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#implementation-notes" id="id1">Implementation notes</a></p></li>
<li><p><a class="reference internal" href="#partner-versus-project" id="id2">Partner versus Project</a></p></li>
<li><p><a class="reference internal" href="#the-accountant-user-type" id="id3">The “accountant” user type</a></p></li>
<li><p><a class="reference internal" href="#general-accounts-budgetary-articles" id="id4">General accounts (“budgetary articles”)</a></p></li>
<li><p><a class="reference internal" href="#vouchers" id="id5">Vouchers</a></p></li>
<li><p><a class="reference internal" href="#journals" id="id6">Journals</a></p></li>
<li><p><a class="reference internal" href="#the-state-of-a-voucher" id="id7">The state of a voucher</a></p></li>
<li><p><a class="reference internal" href="#movements" id="id8">Movements</a></p></li>
</ul>
</nav>
<section id="implementation-notes">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">Implementation notes</a><a class="headerlink" href="#implementation-notes" title="Permalink to this heading">¶</a></h2>
<p>This project integrates several plugins into Lino Welfare which are
also used by <a class="reference external" href="https://www.lino-framework.org/apps.html#cosi" title="(in Lino framework)"><span>Lino Così</span></a>:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../api/lino_welfare.modlib.ledger.html#module-lino_welfare.modlib.ledger" title="lino_welfare.modlib.ledger"><code class="xref py py-mod docutils literal notranslate"><span class="pre">lino_welfare.modlib.ledger</span></code></a> is a thin extension of
<a class="reference external" href="https://dev.lino-framework.org/api/lino_xl.lib.ledger.html#module-lino_xl.lib.ledger" title="(in Lino Developer Guide v20.1)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">lino_xl.lib.ledger</span></code></a>,</p></li>
<li><p><a class="reference external" href="https://dev.lino-framework.org/api/lino_xl.lib.vatless.html#module-lino_xl.lib.vatless" title="(in Lino Developer Guide v20.1)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">lino_xl.lib.vatless</span></code></a> is for VAT-less invoices (mostly
incoming invoices)</p></li>
<li><p><a class="reference external" href="https://dev.lino-framework.org/api/lino_xl.lib.finan.html#module-lino_xl.lib.finan" title="(in Lino Developer Guide v20.1)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">lino_xl.lib.finan</span></code></a> is for “financial vouchers”, i.e. bank
statements, payment orders, journal entries.
<code class="xref py py-mod docutils literal notranslate"><span class="pre">lino_welfare.modlib.finan</span></code> extends this and adds a voucher
type called “Disbursement orders”. A disbursement order is similar
to a payment order, but only used internally.</p></li>
</ul>
<p>Some shortcuts:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Journal</span> <span class="o">=</span> <span class="n">rt</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">ledger</span><span class="o">.</span><span class="n">Journal</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Journals</span> <span class="o">=</span> <span class="n">rt</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">ledger</span><span class="o">.</span><span class="n">Journals</span>
</pre></div>
</div>
</section>
<section id="partner-versus-project">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Partner versus Project</a><a class="headerlink" href="#partner-versus-project" title="Permalink to this heading">¶</a></h2>
<p>Accounting in Lino Welfare is special because every transaction
usually has <em>two</em> external partners: (1) the “beneficiary” or “client”
to which this transaction must be assigned and (2) the actual
recipient (or sender) of the payment.</p>
<p>The <code class="xref py py-attr docutils literal notranslate"><span class="pre">project_model</span></code>
of the ledger plugin is <cite>contacts.Client</cite>, which means that every
ledger movement can additionally point to a <em>client</em> as the “project”.</p>
<p>The client of a transaction can be somebody else than the partner.</p>
<p>The following models are called “client related”
(<code class="xref py py-class docutils literal notranslate"><span class="pre">lino_xl.lib.ledger.mixins.ProjectRelated</span></code> (don’t mix that
up with <a class="reference external" href="https://dev.lino-framework.org/api/lino.mixins.html#lino.mixins.ProjectRelated" title="(in Lino Developer Guide v20.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">lino.mixins.ProjectRelated</span></code></a>), i.e. can point to a
client:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">lino_xl.lib.ledger.mixins</span> <span class="kn">import</span> <span class="n">ProjectRelated</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># from lino.mixins import ProjectRelated</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">rt</span><span class="o">.</span><span class="n">models_by_base</span><span class="p">(</span><span class="n">ProjectRelated</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="go">&lt;class &#39;lino_xl.lib.finan.models.BankStatementItem&#39;&gt;</span>
<span class="go">&lt;class &#39;lino_xl.lib.finan.models.JournalEntry&#39;&gt;</span>
<span class="go">&lt;class &#39;lino_xl.lib.finan.models.JournalEntryItem&#39;&gt;</span>
<span class="go">&lt;class &#39;lino_xl.lib.finan.models.PaymentOrderItem&#39;&gt;</span>
<span class="go">&lt;class &#39;lino_xl.lib.ledger.models.Movement&#39;&gt;</span>
<span class="go">&lt;class &#39;lino_xl.lib.vatless.models.AccountInvoice&#39;&gt;</span>
<span class="go">&lt;class &#39;lino_xl.lib.vatless.models.InvoiceItem&#39;&gt;</span>
</pre></div>
</div>
</section>
<section id="the-accountant-user-type">
<span id="wilfried"></span><h2><a class="toc-backref" href="#id3" role="doc-backlink">The “accountant” user type</a><a class="headerlink" href="#the-accountant-user-type" title="Permalink to this heading">¶</a></h2>
<p>A demo user with the fictive name <em>Wilfried Willems</em> has the user
user_type of an accountant
(<code class="xref py py-class docutils literal notranslate"><span class="pre">lino_welfare.modlib.welfare.roles.LedgerUser</span></code>).</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">rt</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="s1">&#39;wilfried&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get_user</span><span class="p">()</span><span class="o">.</span><span class="n">user_type</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="go">500 (Buchhalter)</span>
</pre></div>
</div>
<p>Accountants have no direct contact with clients and probably won’t use
the calendar.  But for the first prototype they get <code class="xref py py-class docutils literal notranslate"><span class="pre">OfficeUser</span></code> functionality so they can
decide themselves whether they want it.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">lino.modlib.office.roles</span> <span class="kn">import</span> <span class="n">OfficeUser</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">has_required_roles</span><span class="p">([</span><span class="n">OfficeUser</span><span class="p">])</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Here is the main menu for accountants:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">show_menu</span><span class="p">(</span><span class="s1">&#39;wilfried&#39;</span><span class="p">,</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;de&quot;</span><span class="p">)</span>
<span class="gp">... </span>
<span class="go">- Kontakte : Personen,  ▶ Klienten, Organisationen, -, Partner (alle), Haushalte</span>
<span class="go">- Büro : Meine Benachrichtigungen, Meine Auszüge, Meine ablaufenden Upload-Dateien, Meine Upload-Dateien, Mein E-Mail-Ausgang, Meine Ereignisse/Notizen</span>
<span class="go">- Kalender : Kalender, Meine Termine, Meine unbestätigten Termine, Meine Aufgaben, Meine Gäste, Meine Anwesenheiten, Meine überfälligen Termine</span>
<span class="go">- Empfang : Klienten, Termine heute, Wartende Besucher, Beschäftigte Besucher, Gegangene Besucher, Meine Warteschlange</span>
<span class="go">- Buchhaltung :</span>
<span class="go">  - Rechnungseingänge : Rechnungseingänge (REG), Sammelrechnungen (SREG)</span>
<span class="go">  - Ausgabeanweisungen : Ausgabeanweisungen (AAW)</span>
<span class="go">  - Zahlungsaufträge : KBC Zahlungsaufträge (ZKBC)</span>
<span class="go">- Berichte :</span>
<span class="go">  - Buchhaltung : Schuldner, Gläubiger</span>
<span class="go">- Konfigurierung :</span>
<span class="go">  - Büro : Meine Einfügetexte</span>
<span class="go">  - ÖSHZ : Hilfearten, Kategorien</span>
<span class="go">- Explorer :</span>
<span class="go">  - Kontakte : Partner</span>
<span class="go">  - ÖSHZ : Hilfebeschlüsse, Einkommensbescheinigungen, Kostenübernahmescheine, Einfache Bescheinigungen</span>
<span class="go">  - Buchhaltung : Rechnungen</span>
<span class="go">  - SEPA : Bankkonten, Importierte  Bankkonten, Kontoauszüge, Transaktionen</span>
<span class="go">- Site : Info</span>
</pre></div>
</div>
</section>
<section id="general-accounts-budgetary-articles">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">General accounts (“budgetary articles”)</a><a class="headerlink" href="#general-accounts-budgetary-articles" title="Permalink to this heading">¶</a></h2>
<p>Belgian public instances use so-called budgetary articles (<a class="reference external" href="http://www.pouvoirslocaux.irisnet.be/fr/theme/finances/docfin/la-structure-dun-article-budgetaire">Articles budgétaires</a>
in French, “Haushaltsartikel” in German) for classifying their monetary
transactions.  These budgetary articles are in public sector accounting exactly
what general accounts are in private sector accounting.  It seems BTW that the
usage of the term “budgetary articles” is being replaced by the term “accounts”.</p>
<p>The main difference is that they are structured differently.  The demo database
currently has a mixture of “PCMN style” and “public sector style” references
because Lino Welfare doesn’t use full accounting reports
(<a class="reference external" href="https://dev.lino-framework.org/api/lino_xl.lib.sheets.html#module-lino_xl.lib.sheets" title="(in Lino Developer Guide v20.1)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">lino_xl.lib.sheets</span></code></a>).</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rt</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">ledger</span><span class="o">.</span><span class="n">Accounts</span><span class="p">)</span>
<span class="gp">... </span>
<span class="go">======================================================== ================= =============== =============</span>
<span class="go"> Beschreibung                                             Braucht Partner   Auszugleichen   Referenz</span>
<span class="go">-------------------------------------------------------- ----------------- --------------- -------------</span>
<span class="go"> **   1000 Net income (loss)**                            Ja                Ja              1000</span>
<span class="go"> **   4000 Kunden**                                       Ja                Ja              4000</span>
<span class="go"> **   4100 Lieferanten**                                  Ja                Ja              4100</span>
<span class="go"> **   4200 Angestellte**                                  Ja                Ja              4200</span>
<span class="go"> **   4300 Offene Zahlungsaufträge**                      Ja                Ja              4300</span>
<span class="go"> **   4450 Auszuführende Ausgabeanweisungen**             Ja                Ja              4450</span>
<span class="go"> **   4500 Steuerämter**                                  Ja                Ja              4500</span>
<span class="go"> **   4510 Geschuldete Mehrwertsteuer**                   Nein              Nein            4510</span>
<span class="go"> **   4513 Deklarierte Mehrwertsteuer**                   Nein              Nein            4513</span>
<span class="go"> **   4520 Abziehbare Mehrwertsteuer**                    Nein              Nein            4520</span>
<span class="go"> **   4530 Rückzahlbare Mehrwertsteuer**                  Nein              Nein            4530</span>
<span class="go"> **   4800 Internal clearings**                           Ja                Ja              4800</span>
<span class="go"> **   4810 Granted aids**                                 Ja                Ja              4810</span>
<span class="go"> **   4900 Wartekonto**                                   Ja                Ja              4900</span>
<span class="go"> **   5500 BestBank**                                     Nein              Nein            5500</span>
<span class="go"> **   5700 Kasse**                                        Nein              Nein            5700</span>
<span class="go"> **   6010 Einkäufe von Dienstleistungen**                Nein              Nein            6010</span>
<span class="go"> **   6020 Investierungskäufe**                           Nein              Nein            6020</span>
<span class="go"> **   6040 Wareneinkäufe**                                Nein              Nein            6040</span>
<span class="go"> **   6300 Löhne und Gehälter**                           Nein              Nein            6300</span>
<span class="go"> **   6900 Net income**                                   Nein              Nein            6900</span>
<span class="go"> **   7000 Verkauf**                                      Nein              Nein            7000</span>
<span class="go"> **         820/333/01 Vorschuss auf Vergütungen o.ä.**   Nein              Nein            820/333/01</span>
<span class="go"> **         821/333/01 Vorschuss auf Pensionen**          Nein              Nein            821/333/01</span>
<span class="go"> **         822/333/01 Vorsch. Entsch. Arbeitsunfälle**   Nein              Nein            822/333/01</span>
<span class="go"> **         823/333/01 Vor. Kranken- u. Invalidengeld**   Nein              Nein            823/333/01</span>
<span class="go"> **         825/333/01 Vorschuss auf Familienzulage**     Nein              Nein            825/333/01</span>
<span class="go"> **         826/333/01 Vorschuss auf Arbeitslosengeld**   Nein              Nein            826/333/01</span>
<span class="go"> **         827/333/01 Vorschuss auf Behindertenzulag**   Nein              Nein            827/333/01</span>
<span class="go"> **         832/330/01 Allgemeine Beihilfen**             Nein              Nein            832/330/01</span>
<span class="go"> **         832/330/02 Gesundheitsbeihilfe**              Nein              Nein            832/330/02</span>
<span class="go"> **         832/330/03 Heizkosten- u. Energiebeihilfe**   Nein              Nein            832/330/03</span>
<span class="go"> **          832/330/03F Fonds Gas und Elektrizität**     Nein              Nein            832/330/03F</span>
<span class="go"> **         832/330/04 Mietkaution**                      Nein              Nein            832/330/04</span>
<span class="go"> **         832/333/22 Mietbeihilfe**                     Nein              Nein            832/333/22</span>
<span class="go"> **          832/3331/01 Eingliederungseinkommen**        Nein              Nein            832/3331/01</span>
<span class="go"> **         832/334/27 Sozialhilfe**                      Nein              Nein            832/334/27</span>
<span class="go"> **          832/3343/21 Beihilfe für Ausländer**         Nein              Nein            832/3343/21</span>
<span class="go"> **         P82/000/00 Einn. Dritter: Weiterleitung**     Nein              Nein            P82/000/00</span>
<span class="go"> **         P83/000/00 Unber. erh. Beträge + Erstatt.**   Nein              Nein            P83/000/00</span>
<span class="go"> **         P87/000/00 Abhebung von pers. Guthaben**      Nein              Nein            P87/000/00</span>
<span class="go">======================================================== ================= =============== =============</span>
</pre></div>
</div>
</section>
<section id="vouchers">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Vouchers</a><a class="headerlink" href="#vouchers" title="Permalink to this heading">¶</a></h2>
<p>A <strong>voucher</strong> (German <em>Beleg</em>) is a document which serves as legal
proof for a transaction. A transaction is a set of accounting
<strong>movements</strong> whose debit equals to their credit.</p>
<p>Lino Welfare uses the following <strong>voucher types</strong>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rt</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">ledger</span><span class="o">.</span><span class="n">VoucherTypes</span><span class="p">)</span>
<span class="go">=================================== ====== ================================================= =====================================================</span>
<span class="go"> Wert                                name   Text                                              Modell</span>
<span class="go">----------------------------------- ------ ------------------------------------------------- -----------------------------------------------------</span>
<span class="go"> finan.BankStatementsByJournal              Kontoauszug (finan.BankStatementsByJournal)       &lt;class &#39;lino_xl.lib.finan.models.BankStatement&#39;&gt;</span>
<span class="go"> finan.DisbursementOrdersByJournal          Ausgabeanweisungen                                &lt;class &#39;lino_xl.lib.finan.models.PaymentOrder&#39;&gt;</span>
<span class="go"> finan.JournalEntriesByJournal              Diverse Buchung (finan.JournalEntriesByJournal)   &lt;class &#39;lino_xl.lib.finan.models.JournalEntry&#39;&gt;</span>
<span class="go"> finan.PaymentOrdersByJournal               Zahlungsauftrag (finan.PaymentOrdersByJournal)    &lt;class &#39;lino_xl.lib.finan.models.PaymentOrder&#39;&gt;</span>
<span class="go"> vatless.InvoicesByJournal                  Rechnungen                                        &lt;class &#39;lino_xl.lib.vatless.models.AccountInvoice&#39;&gt;</span>
<span class="go"> vatless.ProjectInvoicesByJournal           Project invoices                                  &lt;class &#39;lino_xl.lib.vatless.models.AccountInvoice&#39;&gt;</span>
<span class="go">=================================== ====== ================================================= =====================================================</span>
</pre></div>
</div>
<p>Invoices are partner-related vouchers (often we simply say <strong>partner
voucher</strong>). That is, you select one partner per voucher. Every
partner-related voucher points to to one and only one partner.</p>
<p>The other voucher types (Bank statements etc) are called <strong>financial
vouchers</strong>. Financial vouchers have their individual <em>entries</em>
partner-related, so the vouchers themselves are <em>not</em> related to a
single partner.</p>
<p>There are two types of invoice: those with only one project (client)
and those with more than one projects.</p>
<p>More about voucher types in
<code class="xref py py-class docutils literal notranslate"><span class="pre">lino_xl.lib.ledger.choicelists.VoucherTypes</span></code>.</p>
</section>
<section id="journals">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Journals</a><a class="headerlink" href="#journals" title="Permalink to this heading">¶</a></h2>
<p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">Journal</span></code> is a sequence
of numbered vouchers. All vouchers of a given journal are of same
type, but there may be more than one journal per voucher type.  The
demo database currently has the following journals defined:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rt</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">Journals</span><span class="p">,</span> <span class="n">column_names</span><span class="o">=</span><span class="s2">&quot;ref name voucher_type journal_group&quot;</span><span class="p">)</span>
<span class="go">========== ====================== ================================================ ====================</span>
<span class="go"> Referenz   Bezeichnung            Belegart                                         Journalgruppe</span>
<span class="go">---------- ---------------------- ------------------------------------------------ --------------------</span>
<span class="go"> REG        Rechnungseingänge      Project invoices                                 Rechnungseingänge</span>
<span class="go"> SREG       Sammelrechnungen       Rechnungen                                       Rechnungseingänge</span>
<span class="go"> AAW        Ausgabeanweisungen     Ausgabeanweisungen                               Ausgabeanweisungen</span>
<span class="go"> ZKBC       KBC Zahlungsaufträge   Zahlungsauftrag (finan.PaymentOrdersByJournal)   Zahlungsaufträge</span>
<span class="go">========== ====================== ================================================ ====================</span>
</pre></div>
</div>
<p>A default Lino Welfare has the following <strong>journal groups</strong>.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rt</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">ledger</span><span class="o">.</span><span class="n">JournalGroups</span><span class="p">)</span>
<span class="go">====== ====== ======================</span>
<span class="go"> Wert   name   Text</span>
<span class="go">------ ------ ----------------------</span>
<span class="go"> 10     bst    Bestellungen Einkauf</span>
<span class="go"> 20     reg    Rechnungseingänge</span>
<span class="go"> 30     ffo    Forderungen</span>
<span class="go"> 40     anw    Ausgabeanweisungen</span>
<span class="go"> 50     zau    Zahlungsaufträge</span>
<span class="go">====== ====== ======================</span>
</pre></div>
</div>
</section>
<section id="the-state-of-a-voucher">
<h2><a class="toc-backref" href="#id7" role="doc-backlink">The state of a voucher</a><a class="headerlink" href="#the-state-of-a-voucher" title="Permalink to this heading">¶</a></h2>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rt</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">ledger</span><span class="o">.</span><span class="n">VoucherStates</span><span class="p">)</span>
<span class="go">====== ============ ================ ============</span>
<span class="go"> Wert   name         Text             Editierbar</span>
<span class="go">------ ------------ ---------------- ------------</span>
<span class="go"> 10     draft        Entwurf          Ja</span>
<span class="go"> 20     registered   Registriert      Nein</span>
<span class="go"> 30     signed       Unterschrieben   Nein</span>
<span class="go"> 40     cancelled    Storniert        Nein</span>
<span class="go">====== ============ ================ ============</span>
</pre></div>
</div>
</section>
<section id="movements">
<h2><a class="toc-backref" href="#id8" role="doc-backlink">Movements</a><a class="headerlink" href="#movements" title="Permalink to this heading">¶</a></h2>
<p>Users can consult the movements of a given general account.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span> <span class="o">=</span> <span class="n">ledger</span><span class="o">.</span><span class="n">Account</span><span class="o">.</span><span class="n">get_by_ref</span><span class="p">(</span><span class="s1">&#39;820/333/01&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">obj</span><span class="p">))</span>
<span class="go">(820/333/01) Vorschuss auf Vergütungen o.ä.</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rt</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">ledger</span><span class="o">.</span><span class="n">MovementsByAccount</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
<span class="go">========== =============== ================================================================ ============ ======== =======</span>
<span class="go"> Valuta     Beleg           Beschreibung                                                     Debit        Kredit   Match</span>
<span class="go">---------- --------------- ---------------------------------------------------------------- ------------ -------- -------</span>
<span class="go"> 22.05.14   *REG 1/2014*    *AS Express Post* / *AUSDEMWALD Alfons (116)*                    10,00</span>
<span class="go"> 03.03.14   *SREG 6/2014*   *Electrabel Customer Solutions* / *AUSDEMWALD Alfons (116)*      25,00</span>
<span class="go"> 03.03.14   *SREG 6/2014*   *Electrabel Customer Solutions* / *COLLARD Charlotte (118)*      149,95</span>
<span class="go"> 03.03.14   *SREG 6/2014*   *Electrabel Customer Solutions* / *DOBBELSTEIN Dorothée (124)*   125,33</span>
<span class="go"> 03.03.14   *SREG 6/2014*   *Electrabel Customer Solutions* / *EVERS Eberhart (127)*         10,00</span>
<span class="go"> 03.03.14   *SREG 6/2014*   *Electrabel Customer Solutions* / *EMONTS Daniel (128)*          12,50</span>
<span class="go">                            **Saldo 332.78 (6 Bewegungen)**                                  **332,78**</span>
<span class="go">========== =============== ================================================================ ============ ======== =======</span>
</pre></div>
</div>
</section>
</section>

            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">

            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/logo_web3.png" alt="Logo"/>
            </a></p>
          <div class="sidebar-resize-handle"></div>
<p align="center"><b>EN</b> | <a href="de/index.rst">DE</a> | <a href="fr/index.rst">FR</a></p>
<h3><a href="../index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../about/index.html">About Lino Welfare</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/index.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changes/index.html">Changes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Specs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install/index.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../copyright.html">Copyright &amp; legal notes</a></li>
</ul>

<hr class="docutils" />
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
<ul>
  <li class="toctree-l1"><a class="reference internal" href="../py-modindex.html">Python Module Index</a></li>
</ul><p align="center">
</p>

<div id="ethical-ad-placement"></div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>

    <nav class="relbar">
      <a class="previous" href="b2c.html" aria-label="Previous topic" >
        <div class="icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"/></svg>
        </div>
        <div class="title">
          <span class="text">
            <span class="direction">previous</span>
            Import bank statements (SEPA  BankToCustomer)
          </span>
        </div>
      </a>
      <a class="next" href="vatless.html" aria-label="Next topic" >
        <div class="title">
          <span class="text">
            <span class="direction">next</span>
            Incoming invoices
          </span>
        </div>
        <div class="icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"/></svg>
        </div>
      </a>
    </nav>

    <footer role="contentinfo">
      &#169; <a href="../copyright.html">Copyright</a> 2012-2022 Rumma &amp; Ko Ltd.
      Last updated on 2022-11-08.
      Created using <a class="reference external" href="https://www.sphinx-doc.org/">Sphinx</a> 5.1.1.
      <a class="reference external" href="https://insipid-sphinx-theme.readthedocs.io/">Insipid Theme</a>.
<a href="https://gitlab.com/lino-framework/welfare/-/blob/master/docs/specs/ledger.rst?plain=1"
  rel="nofollow">Source code</a>.
<br>

Online link: <a href="https://welfare.lino-framework.org/specs/ledger.html">https://welfare.lino-framework.org/specs/ledger.html</a>.


    </footer>
  </body>
</html>