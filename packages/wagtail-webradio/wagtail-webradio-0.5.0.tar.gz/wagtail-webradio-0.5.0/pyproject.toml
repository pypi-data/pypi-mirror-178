[build-system]
requires = ["setuptools >=45", "wheel", "setuptools_scm[toml] >=6.2"]
build-backend = "setuptools.build_meta"

[tool.setuptools_scm]

[tool.black]
line-length = 80
skip-string-normalization = true
exclude = '''
/(
   \.git
   | venv
   | migrations
)/
'''

[tool.isort]
profile = 'black'
line_length = 80
known_django = 'django'
known_wagtail = 'wagtail'
sections = [
  'FUTURE', 'STDLIB', 'DJANGO', 'WAGTAIL', 'THIRDPARTY', 'FIRSTPARTY', 'LOCALFOLDER'
]
skip_glob = '**/migrations/*.py'

[tool.pytest.ini_options]
addopts = '--ds=tests.settings'
python_files = ['test_*.py']
testpaths = ['tests']
markers = ['wip: mark a test as a work in progress']

[tool.coverage.run]
branch = true
source = ['wagtail_webradio']
omit = ['wagtail_webradio/migrations/*']

[tool.coverage.report]
exclude_lines = [
  '# pragma: no cover',
  'raise AssertionError',
  'raise NotImplementedError',
]
show_missing = true
