(self.webpackChunkPaddleLabel_Frontend=self.webpackChunkPaddleLabel_Frontend||[]).push([[687],{41180:function(h){h.exports={ppcard:"ppcard___27hGd",title:"title___22R8f"}},48627:function(h){h.exports={container:"container___2RXc3"}},32310:function(h){h.exports={title:"title___2OSZi",Corresponding_list_content:"Corresponding_list_content___1wY1N",Corresponding_list:"Corresponding_list___5fgS1",Corresponding_li:"Corresponding_li___7KM9o",Corresponding_label1:"Corresponding_label1___1-489",label:"label___1-fqP",Corresponding_label2:"Corresponding_label2___1vV_o",Corresponding_button:"Corresponding_button___3SDwm",Corresponding_select_content:"Corresponding_select_content___3FjXI",Corresponding_select:"Corresponding_select___2eyrv"}},68179:function(){},31982:function(h,b,t){"use strict";var Q=t(89032),L=t(15746),F=t(11849),Y=t(13062),y=t(71230),v=t(11700),P=t(67294),J=t(41180),e=t.n(J),k=function(E){return P.createElement("div",{className:e().ppcard,style:E.style,hidden:E.hidden},P.createElement(y.Z,{className:e().titleRow,style:{display:E.title?void 0:"none"}},P.createElement(v.Z,{className:e().title},E.title)),P.createElement(y.Z,{style:{marginTop:26}},P.createElement(L.Z,{span:24,style:(0,F.Z)({paddingLeft:30,paddingRight:30,textAlign:"center"},E.innerStyle)},E.children)))};b.Z=k},11428:function(h,b,t){"use strict";var Q=t(67294),L=t(48627),F=t.n(L),Y=function(v){return Q.createElement("div",{className:"".concat(F().container),style:{backgroundImage:"url(./pics/background.png)"}},v.children)};b.Z=Y},93661:function(h,b,t){"use strict";t.r(b),t.d(b,{default:function(){return Ge}});var Q=t(49111),L=t(19650),F=t(38663),Y=t(68179),y=t(22122),v=t(96156),P=t(94184),J=t.n(P),e=t(67294),k=t(53124),ue=function(a,n){var o={};for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&n.indexOf(s)<0&&(o[s]=a[s]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,s=Object.getOwnPropertySymbols(a);d<s.length;d++)n.indexOf(s[d])<0&&Object.prototype.propertyIsEnumerable.call(a,s[d])&&(o[s[d]]=a[s[d]]);return o},E=function(n){var o,s=e.useContext(k.E_),d=s.getPrefixCls,te=s.direction,$=n.prefixCls,w=n.type,A=w===void 0?"horizontal":w,H=n.orientation,S=H===void 0?"center":H,M=n.orientationMargin,ne=n.className,U=n.children,j=n.dashed,ae=n.plain,le=ue(n,["prefixCls","type","orientation","orientationMargin","className","children","dashed","plain"]),u=d("divider",$),_=S.length>0?"-".concat(S):S,G=!!U,X=S==="left"&&M!=null,R=S==="right"&&M!=null,N=J()(u,"".concat(u,"-").concat(A),(o={},(0,v.Z)(o,"".concat(u,"-with-text"),G),(0,v.Z)(o,"".concat(u,"-with-text").concat(_),G),(0,v.Z)(o,"".concat(u,"-dashed"),!!j),(0,v.Z)(o,"".concat(u,"-plain"),!!ae),(0,v.Z)(o,"".concat(u,"-rtl"),te==="rtl"),(0,v.Z)(o,"".concat(u,"-no-default-orientation-margin-left"),X),(0,v.Z)(o,"".concat(u,"-no-default-orientation-margin-right"),R),o),ne),T=(0,y.Z)((0,y.Z)({},X&&{marginLeft:M}),R&&{marginRight:M});return e.createElement("div",(0,y.Z)({className:N},le,{role:"separator"}),U&&A!=="vertical"&&e.createElement("span",{className:"".concat(u,"-inner-text"),style:T},U))},Ue=E,vt=t(57663),Z=t(71577),De=t(91220),me=t(11849),q=t(86582),ft=t(9715),x=t(71257),f=t(2824),gt=t(47673),ee=t(74485),pt=t(43358),z=t(42239),ve=t(28991),Le={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},Ae=Le,je=t(27029),fe=function(n,o){return e.createElement(je.Z,(0,ve.Z)((0,ve.Z)({},n),{},{ref:o,icon:Ae}))};fe.displayName="PlusOutlined";var Re=e.forwardRef(fe),Ne=t(11700),Te=t(11428),Be=t(31982),K=t(83721),Fe=t(37071),ze=t(32310),g=t.n(ze),ge={randomUUID:typeof crypto!="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let V;const Ke=new Uint8Array(16);function Ve(){if(!V&&(V=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!V))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return V(Ke)}const c=[];for(let a=0;a<256;++a)c.push((a+256).toString(16).slice(1));function pe(a,n=0){return(c[a[n+0]]+c[a[n+1]]+c[a[n+2]]+c[a[n+3]]+"-"+c[a[n+4]]+c[a[n+5]]+"-"+c[a[n+6]]+c[a[n+7]]+"-"+c[a[n+8]]+c[a[n+9]]+"-"+c[a[n+10]]+c[a[n+11]]+c[a[n+12]]+c[a[n+13]]+c[a[n+14]]+c[a[n+15]]).toLowerCase()}function Et(a,n=0){const o=pe(a,n);if(!validate(o))throw TypeError("Stringified UUID is invalid");return o}var Ct=null;function We(a,n,o){if(ge.randomUUID&&!n&&!a)return ge.randomUUID();a=a||{};const s=a.random||(a.rng||Ve)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,n){o=o||0;for(let d=0;d<16;++d)n[o+d]=s[d];return n}return pe(s)}var $e=We,he=t(48971),W=z.Z.Option,we=ee.Z.TextArea,He=function(){var n,o,s="http://127.0.0.1:1234",d=(0,K.Ad)("pages.ProjectAi"),te=(0,e.useState)(0),$=(0,f.Z)(te,2),w=$[0],A=$[1],H=x.Z.useForm(),S=(0,f.Z)(H,1),M=S[0],ne=(0,e.useState)(s),U=(0,f.Z)(ne,2),j=U[0],ae=U[1],le=(0,e.useState)(),u=(0,f.Z)(le,2),_=u[0],G=u[1],X=(0,e.useState)(!0),R=(0,f.Z)(X,2),N=R[0],T=R[1],Xe=(0,e.useState)([]),Ee=(0,f.Z)(Xe,2),re=Ee[0],Ce=Ee[1],Qe=(0,e.useState)(""),ye=(0,f.Z)(Qe,2),oe=ye[0],Pe=ye[1],Ye=(0,e.useState)(""),Ze=(0,f.Z)(Ye,2),se=Ze[0],Se=Ze[1],Je=(0,e.useState)([]),_e=(0,f.Z)(Je,2),D=_e[0],ie=_e[1],ke=(0,e.useState)(""),Ie=(0,f.Z)(ke,2),de=Ie[0],Oe=Ie[1],qe=(0,e.useState)([]),be=(0,f.Z)(qe,2),ce=be[0],xe=be[1],Me=(0,e.useRef)(null),I=(0,K.Gd)(e.useState),B=(0,K.RZ)(e.useState,j),C=Fe.Z.getQueryVariable("projectId");console.log("FrontendId",w);var et=function(){A(0)},tt=function(r){console.log("modelSelected ".concat(r)),G(r)},nt=function(r){console.log("Urlselected ".concat(r)),ae(r)},at=function(r){console.log("multipleChange: ".concat(r)),Se(r);var i=D.filter(function(m){return m!==r});ie(i)},lt=function(r){console.log("multipleChange2: ".concat(r)),Oe(r)},rt=function(r){Pe(r.target.value)},ot=function(){console.log("labels",se,de),xe(function(r){return[].concat((0,q.Z)(r),[{id:$e(),model:se,project:de}])}),Se(""),Oe("")},st=function(r,i){var m=ce.filter(function(p){return p.id!==r});xe(m),ie([].concat((0,q.Z)(D),[i]))},O=(0,K.jL)(e.useState,{oneHot:!0,postSelect:function(){A(0)},preUnsetCurr:et}),it=function(r){O.create((0,me.Z)((0,me.Z)({},r),{},{projectId:I.curr.projectId})).then(function(i){O.setCurr(i)})},dt=function(){var r=new Map;O.all.forEach(function(i){r.set(i.labelId,"")}),re.forEach(function(i){i.labelId||it(i)})},ct=function(r){r.preventDefault();var i={name:oe},m=new Map;re.forEach(function(p){m.set(p.name,"")}),m.has(oe)||Ce(function(p){return[].concat((0,q.Z)(p),[i])}),Pe(""),setTimeout(function(){var p;(p=Me.current)===null||p===void 0||p.focus()},0)},ut=function(){var r={mlBackendUrl:"http://localhost:1234",modelName:_,labelMapping:ce};console.log("otherSettings",r),I.update(C,{otherSettings:r}).then(function(){dt(),he.m8.push("/project_overview?projectId=".concat(C))}),I.setAllPredicted(!1,C)},mt=function(){B.setMlBackendUrl(j)};return(0,e.useEffect)(function(){B.getAll()},[B.backendUrl]),(0,e.useEffect)(function(){C&&(I.getCurr(C),B.getAll(),O.getAll(C))},[C]),(0,e.useEffect)(function(){O.all&&Ce(O.all)},[O.all]),(0,e.useEffect)(function(){if(_){var l=(0,De.Z)(B.all),r;try{for(l.s();!(r=l.n()).done;){var i=r.value;console.log("models",i),i.name===_&&i.labelNames&&ie(i.labelNames)}}catch(m){l.e(m)}finally{l.f()}}},[_]),e.createElement(Te.Z,null,e.createElement(Be.Z,{style:{height:"100%"}},e.createElement(Ne.Z,{className:g().title},d("title")),e.createElement("div",null,e.createElement(x.Z,{form:M,layout:"horizontal",size:"large",style:{marginTop:"5.69rem"}},e.createElement(x.Z.Item,{name:"name",label:"\u673A\u5668\u5B66\u4E60\u540E\u7AEF\u7F51\u5740",labelCol:{span:6},wrapperCol:{span:16},rules:[{required:!0,message:"Please input project name!"}],style:{fontSize:"1.5rem"}},e.createElement(ee.Z,{autoComplete:"off",size:"large",defaultValue:s,value:j,onChange:nt,onBlur:mt,style:{height:"3.13rem"}})),e.createElement(x.Z.Item,{name:"dataDir",label:"\u6A21\u578B\u9009\u62E9",labelCol:{span:6},wrapperCol:{span:16},rules:[{required:!0,message:"Please input dataset path!"}],style:{fontSize:"1.5rem"}},e.createElement("div",{style:{width:"100%"}},e.createElement(z.Z,{defaultValue:"",onChange:tt,value:_,style:{width:"100%"}},(I==null||(n=I.curr)===null||n===void 0||(o=n.taskCategory)===null||o===void 0?void 0:o.name)==="detection"?e.createElement(W,{value:"PicoDet"},"PicoDet"):e.createElement(W,{value:"PPLCNetV2"},"PPLCNetV2")))),e.createElement(x.Z.Item,{name:"dataDir",label:"\u4F7F\u7528\u9884\u6807\u6CE8\u6A21\u578B\u6807\u7B7E",labelCol:{span:6},wrapperCol:{span:16},rules:[{required:!0,message:"Please input dataset path!"}],style:{fontSize:"1.5rem"}},e.createElement("div",{style:{display:"flex"}},e.createElement("div",{style:{width:"6rem",marginRight:"2rem"}},e.createElement(Z.Z,{type:N?"primary":"default",block:!0,onClick:function(){T(function(){return!0})}},"\u662F")),e.createElement("div",{style:{width:"6rem"}},e.createElement(Z.Z,{block:!0,type:N?"default":"primary",onClick:function(){T(function(){return!1})}},"\u5426")))),e.createElement(x.Z.Item,{name:"textArea",label:"\u6807\u7B7E\u5BF9\u5E94\u5173\u7CFB",labelCol:{span:6},wrapperCol:{span:16},rules:[{required:!1,message:"Please input dataset path!"}],style:{fontSize:"1.5rem"}},N?e.createElement(we,{rows:5,defaultValue:"\u63A5\u53D7\u9884\u6807\u6CE8\u6A21\u578B\u6807\u7B7E\u540E\uFF0C\u5F53\u6A21\u578B\u68C0\u6D4B\u5230\u65B0\u6807\u7B7E\u540E\uFF0C\u4F1A\u81EA\u52A8\u5728\u6807\u7B7E\u5217\u8868\u4E2D\u589E\u52A0\u8BE5\u6807\u7B7E"}):e.createElement("div",{className:g().Corresponding_list_content},ce.map(function(l,r){return e.createElement("div",{className:g().Corresponding_list,key:l.id},e.createElement("div",{className:g().Corresponding_li},e.createElement("div",{className:g().Corresponding_label1},e.createElement("div",{className:g().label,key:r},l.model)),e.createElement("div",{className:g().Corresponding_label2},e.createElement("div",{className:g().label},l.project)),e.createElement(Z.Z,{size:"small",type:"primary",danger:!0,onClick:function(){st(l.id,l.model)}},d("delete"))))}),e.createElement("div",{className:g().Corresponding_select_content,style:{display:"flex",alignItems:"center"}},e.createElement("div",{className:g().Corresponding_select},e.createElement("div",{style:{width:"200px"}},e.createElement(z.Z,{defaultValue:"",onChange:at,value:se,style:{width:"100%"},showSearch:!0,optionFilterProp:"children",filterOption:function(r,i){var m;return((m=i==null?void 0:i.value)!==null&&m!==void 0?m:"").toLowerCase().includes(r.toLowerCase())}},D&&(D==null?void 0:D.map(function(l){return e.createElement(W,{value:l},l)}))))),e.createElement("div",{className:g().Corresponding_select},e.createElement("div",{style:{width:"200px"}},e.createElement(z.Z,{style:{width:200},placeholder:"custom dropdown render",onChange:lt,value:de,dropdownRender:function(r){return e.createElement(e.Fragment,null,r,e.createElement(Ue,{style:{margin:"8px 0"}}),e.createElement(L.Z,{style:{padding:"0 8px 4px"}},e.createElement(ee.Z,{placeholder:"Please enter item",ref:Me,value:oe,onChange:rt}),e.createElement(Z.Z,{type:"text",icon:e.createElement(Re,null),onClick:ct},"Add")))}},re.map(function(l){return e.createElement(W,{value:l.name,key:l.id},l.name)})))),e.createElement(Z.Z,{size:"small",type:"primary",danger:!0,onClick:ot},d("add")))))),e.createElement("div",{style:{display:"flex",justifyContent:"end"}},e.createElement("div",{style:{width:"6rem",marginRight:"2rem"}},e.createElement(Z.Z,{block:!0,type:"primary",onClick:ut},d("confirm"))),e.createElement("div",{style:{width:"6rem"}},e.createElement(Z.Z,{block:!0,onClick:function(){T(function(){return!1}),he.m8.push("/project_overview?projectId=".concat(C))}},d("goback")))))))},Ge=He}}]);
