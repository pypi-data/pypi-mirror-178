(self.webpackChunkPaddleLabel_Frontend=self.webpackChunkPaddleLabel_Frontend||[]).push([[498],{48627:function(y){y.exports={container:"container___2RXc3"}},18398:function(y){y.exports={_ppcard:"_ppcard___1sR0b",title:"title___2fjZe",shadow:"shadow___3SaOl",main:"main___IOVJu",block_l:"block_l___1ywNh",block_r:"block_r___Sg4L7",goup:"goup___1vznA",DirectoryTitle:"DirectoryTitle___m0DJ7",DirectoryContent:"DirectoryContent___14k0E"}},11428:function(y,h,t){"use strict";var b=t(67294),d=t(48627),e=t.n(d),g=function(E){return b.createElement("div",{className:"".concat(e().container),style:{backgroundImage:"url(./pics/background.png)"}},E.children)};h.Z=g},68370:function(y,h,t){"use strict";t.r(h),t.d(h,{default:function(){return W}});var b=t(34792),d=t(48086),e=t(67294),g=t(48971),A=t(20228),E=t(11382),ae=t(57663),p=t(71577),le=t(88983),F=t(47933),ne=t(47673),P=t(74485),re=t(32157),O=t(45159),oe=t(9715),v=t(71257),S=t(2824),ie=t(89032),R=t(15746),C=t(11849),se=t(13062),T=t(71230),I=t(1870),U=t(11700),V=t(18398),m=t.n(V),Z=t(37071),o=t(83721),B=t(36505),k=function(l){return e.createElement("div",{className:m()._ppcard,style:l.style},e.createElement(T.Z,{className:m().titleRow,style:{display:l.title?void 0:"none"}},e.createElement(U.Z,{className:m().title},l.title),e.createElement("div",{"data-test-id":l.title!=null?"projectDetailDoc":""},e.createElement(I.Z,{style:{fontSize:"12px"},onClick:function(){return d.default.info({content:l.content,onClick:function(){return window.open(l.docUrl)}})}}))),e.createElement(T.Z,{style:{marginTop:26}},e.createElement(R.Z,{span:24,style:(0,C.Z)({paddingLeft:30,paddingRight:30,textAlign:"center"},l.innerStyle)},l.children)))},G=function(l){var s=(0,o.Gd)(e.useState),u=Z.Z.getQueryVariable("projectId"),$=(0,e.useState)(!1),z=(0,S.Z)($,2),j=z[0],L=z[1],X=(0,e.useState)([]),N=(0,S.Z)(X,2),M=N[0],Y=N[1],n=(0,B.I)("component.PPCreater"),c=(0,o.Ad)("component.PPCreater"),H=function(r){L(!0);var i={};r.segMaskType&&(i.segMaskType=r.segMaskType),u?s.update(u,(0,C.Z)((0,C.Z)({},r),{},{otherSettings:i})).then(function(){g.m8.push("/project_overview?projectId=".concat(u))}):s.create((0,C.Z)((0,C.Z)({},r),{},{taskCategoryId:o.ux[l.taskCategory].id,otherSettings:i})).catch(function(f){d.default.error(c("creationFail")),Z.Z.parseError(f,d.default),L(!1)}).then(function(f){f&&g.m8.push("/".concat((0,o.LV)(l.taskCategory),"?projectId=").concat(f.projectId))})},w=v.Z.useForm(),q=(0,S.Z)(w,1),D=q[0];(0,e.useEffect)(function(){s.getCurr(u).then(function(a){var r,i={name:a==null?void 0:a.name,description:a==null?void 0:a.description,dataDir:a==null?void 0:a.dataDir,labelDir:a==null?void 0:a.labelDir,labelFormat:a==null?void 0:a.labelFormat,segMaskType:a==null||(r=a.otherSettings)===null||r===void 0?void 0:r.segMaskType};console.log("values",i),console.log("othersettings",a==null?void 0:a.otherSettings),D.setFieldsValue(i)})},[]);var _=O.Z.DirectoryTree,ee=function(r,i){console.log("Trigger Select",r,i,i.node.isLeaf!=null);var f=i.node.isLeaf==!0;f&&(console.log("url",encodeURIComponent(i.node.key)),window.open("/api/samples/file?path="+encodeURIComponent(i.node.key)))};function te(){return M.length==0?e.createElement("img",{src:l.imgSrc,style:{width:"40rem"}}):e.createElement("div",null,e.createElement("div",{className:m().DirectoryTitle},n("folderStructureSample")),e.createElement(_,{onSelect:ee,treeData:M,blockNode:!1}),e.createElement("div",{className:m().DirectoryContent},e.createElement("div",null,n("folderStructureSampleDetail"))))}return e.createElement("div",{className:m().shadow,style:l.style},e.createElement(E.Z,{tip:n("importInProgress"),spinning:j,size:"large"},e.createElement("div",{id:"left",className:m().block_l},e.createElement(k,{title:c(l.taskCategory,"global")+c("project"),content:n("titleContent"),docUrl:"https://github.com/PaddleCV-SIG/PaddleLabel/blob/docs/doc/CN/project/".concat((0,o.LV)(l.taskCategory),".md"),style:{height:760,padding:"1.25rem 0"}},e.createElement(v.Z,{form:D,layout:"horizontal",size:"large",style:{marginTop:"5.69rem"},onFinish:function(r){H(r)}},e.createElement(v.Z.Item,{name:"name",label:c("projectName"),labelCol:{span:6},wrapperCol:{span:16},rules:[{required:!0,message:n("requireProjectName")}],style:{fontSize:"1.5rem"}},e.createElement(P.Z,{autoComplete:"off",size:"large",placeholder:c("anyString","global"),style:{height:"3.13rem"}})),e.createElement(v.Z.Item,{name:"dataDir",label:c("datasePath"),labelCol:{span:6},wrapperCol:{span:16},rules:[{required:!0,message:n("requireDatasePath")}],style:{fontSize:"1.5rem"}},e.createElement(P.Z,{autoComplete:"off",size:"large",placeholder:c("absolutePath","global"),style:{height:"3.13rem"},disabled:u!=null})),e.createElement(v.Z.Item,{name:"description",label:c("description"),labelCol:{span:6},wrapperCol:{span:16},rules:[{required:!1}],style:{fontSize:"1.5rem"}},e.createElement(P.Z,{autoComplete:"off",size:"large",placeholder:c("anyString","global"),style:{height:"3.13rem"}})),e.createElement(v.Z.Item,{name:"labelFormat",label:e.createElement("p",null,l.taskCategory=="classification"?n("clasSubCags"):n("labelFormat")," ",e.createElement(I.Z,{style:{fontSize:"12px"},onClick:function(){return d.default.info({content:l.taskCategory=="classification"?n("classificationSubCatgDetail"):n("labelFormatDetail")})}})),labelCol:{span:6},wrapperCol:{span:16},rules:[{required:l.taskCategory=="classification",message:n("chooseClasSubcatg")}],style:{fontSize:"1.5rem",display:o.ux[l.taskCategory].labelFormats!=null&&!u?void 0:"none"}},e.createElement(F.ZP.Group,{size:"large",style:{height:"3.13rem"},onChange:function(){o.bY.getStructure("sample/bear/".concat(l.taskCategory,"/").concat((0,o.os)(D.getFieldValue("labelFormat")),"/")).then(function(r){Y(r)})}},Object.keys(o.ux[l.taskCategory].labelFormats).map(function(a){return e.createElement(F.ZP,{key:a,value:a},n((0,o.os)(a),"global.labelFormat"))}))),e.createElement(v.Z.Item,{wrapperCol:{span:16,offset:6}},e.createElement(p.Z,{htmlType:"submit",type:"primary",style:{height:"2.5rem",width:"48%"},block:!0},n(u?"update":"create")),"\xA0\xA0",e.createElement(p.Z,{htmlType:"button",style:{height:"2.5rem",width:"48%"},block:!0,onClick:function(){g.m8.goBack()}},n("cancel")))))),e.createElement("div",{id:"right",className:m().block_r},e.createElement(k,{style:{height:"43.63rem",padding:"0.5rem 0"}},te()))))},J=G,K=t(11428),Q=function(){(0,o.bo)();var l=(0,o.Ad)("pages.projectDetail"),s=Z.Z.getQueryVariable("taskCategory");return console.log(s),s?s in o.ux?e.createElement(K.Z,null,e.createElement(J,{imgSrc:"./pics/illustration.jpg",taskCategory:s})):(d.default.error(l("invalidTaskCategory")+" "+s),g.m8.push("/"),null):(d.default.error(l("noTaskCategory")),g.m8.push("/"),null)},W=Q}}]);
