"use strict";(self.webpackChunk_splunk_ucc_ui_lib=self.webpackChunk_splunk_ucc_ui_lib||[]).push([[526],{7526:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ae});var a=n(4942),r=n(885),l=n(168),i=n(7294),o=n(9250),c=n(1569),u=n.n(c),s=n(6416),m=n.n(s),p=n(6635),d=n.n(p),f=n(2725),v=n.n(f),h=n(2788),b=n(1946),y=n.n(b),E=n(2672),C=n.n(E),N=n(6219),S=n(9609),Z=n(4255),_=n(1263),O=n(6057),k=n(6549),P=n(4843),j=n(9881),w=n(5671),R=n(3144),I=n(7326),x=n(9340),L=n(2963),T=n(1120),q=n(1581),z=n.n(q),D=n(9536);var M=function(e){(0,x.Z)(l,e);var t,n,r=(t=l,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,T.Z)(t);if(n){var r=(0,T.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,L.Z)(this,e)});function l(e){var t;return(0,w.Z)(this,l),t=r.call(this,e),(0,a.Z)((0,I.Z)(t),"setValue",(function(e){t.props.handleChange(e)})),(0,a.Z)((0,I.Z)(t),"loadCustomMenu",(function(){return new Promise((function(e){if("external"===t.props.type)import("".concat((0,D.a)(),"/custom/").concat(t.props.fileName,".js")).then((function(t){var n=t.default;e(n)}));else{var n=(0,Z.YK)().meta.name;require(["app/".concat(n,"/js/build/custom/").concat(t.props.fileName)],(function(t){return e(t)}))}}))})),t.state={loading:!0},t.shouldRender=!0,t}return(0,R.Z)(l,[{key:"componentDidMount",value:function(){var e=this,t=(0,Z.YK)();this.setState({loading:!0}),this.loadCustomMenu().then((function(n){new n(t,e.el,e.setValue).render(),e.setState({loading:!1})}))}},{key:"shouldComponentUpdate",value:function(e,t){return!(t.loading||!this.shouldRender||(this.shouldRender=!1,0))}},{key:"render",value:function(){var e=this;return i.createElement(i.Fragment,null,this.state.loading&&(0,N._)("Loading..."),i.createElement("span",{ref:function(t){e.el=t},style:{visibility:this.state.loading?"hidden":"visible"}}))}}]),l}(i.Component);M.propTypes={fileName:z().string.isRequired,type:z().string,handleChange:z().func};const B=M;var A=n(7588),F=n(5792),K=n(5496),U=n(6206),Y=n.n(U),V=n(5414),G=n.n(V),H=n(5947),W=n(4930);function J(e){var t=e.handleRequestClose,n=e.serviceName,a=e.mode,l=e.stanzaName,o=e.formLabel,c=(0,i.useRef)(),s=(0,i.useState)(!1),p=(0,r.Z)(s,2),d=p[0],f=p[1],g=(0,N._)("Submit");a===k.jg?g=(0,N._)("Add"):a===k.Oh?g=(0,N._)("Clone Input"):a===k.bZ&&(g=(0,N._)("Update"));var v={boxShadow:(0,H.useSplunkTheme)().embossShadow,padding:"1%",backgroundColor:"white"};return i.createElement(u(),{gutter:8},i.createElement(u().Row,{style:{padding:"5px 0px"}},i.createElement(u().Column,null,i.createElement(_.pZ,null,i.createElement(Y(),{onClick:t},(0,N._)("Inputs"))," > ",(0,N._)(o)))),i.createElement(u().Row,null,i.createElement(u().Column,{span:2}),i.createElement(u().Column,{span:8,style:v},i.createElement(W.Z,{ref:c,page:P.b,serviceName:n,mode:a,stanzaName:l,handleFormSubmit:function(e,n){f(e),n&&t()}})),i.createElement(u().Column,{span:2})),i.createElement(u().Row,null,i.createElement(u().Column,{span:7}),i.createElement(u().Column,{span:3,style:{textAlign:"right"}},i.createElement(m(),{appearance:"secondary",onClick:t,label:(0,N._)("Cancel"),disabled:d}),i.createElement(m(),{appearance:"primary",label:d?i.createElement(G(),null):g,onClick:function(){c.current.handleSubmit()&&t()},disabled:d})),i.createElement(u().Column,{span:2})))}J.propTypes={handleRequestClose:z().func,serviceName:z().string,mode:z().string,stanzaName:z().string,formLabel:z().string};const Q=(0,i.memo)(J);var X,$=n(4893);function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ne=(0,h.default)(u().Row)(X||(X=(0,l.Z)(["\n    padding: 5px 0px;\n\n    .dropdown {\n        text-align: right;\n    }\n\n    .input_button {\n        text-align: right;\n        margin-right: 0px;\n    }\n"])));const ae=function(){var e,t,n=(0,i.useState)({open:!1}),a=(0,r.Z)(n,2),l=a[0],c=a[1],s=(0,Z.YK)(),p=s.pages.inputs,f=p.services,h=p.title,b=p.description,E=p.menu,w=!!(null===(e=s.pages.inputs)||void 0===e?void 0:e.table),R=(0,i.useState)(f[0].name),I=(0,r.Z)(R,2),x=I[0],L=I[1],T=(0,i.useState)((null===(t=f[0])||void 0===t?void 0:t.description)||""),q=(0,r.Z)(T,2),z=q[0],D=q[1],M=(0,i.useState)(f[0].title),U=(0,r.Z)(M,2),Y=U[0],V=U[1],G=i.createElement(m(),{appearance:"primary",id:"addInputBtn",label:(0,N._)("Create New Input"),isMenu:!0}),H=[k.Oh,k.jg,k.bZ],W=f.map((function(e){return e.name})),J=(0,o.s0)(),X=(0,$.Z)();(0,i.useEffect)((function(){ee(),ae()}),[(0,o.TH)().search]);var ee=function(){var e=f.find((function(e){return e.name===X.get("service")}));X&&e&&H.includes(X.get("action"))&&!l.open?X.get("action")!==k.jg&&l.stanzaName?c(te(te({},l),{},{open:!0,isInputPageStyle:!0,serviceName:X.get("service"),mode:X.get("action")})):c(te(te({},l),{},{open:!0,isInputPageStyle:!0,serviceName:X.get("service"),formLabel:"Create ".concat(null==e?void 0:e.title),mode:k.jg})):X.get("service")&&X.get("action")||!l.open||!l.isInputPageStyle||c(te(te({},l),{},{open:!1}))},ae=function(){X&&W.includes(X.get("service"))&&L(X.get("service"))},re=function(e,t){var n=f.find((function(t){return t.name===e})).style===j.G;c(te(te({},l),{},{open:!0,serviceName:e,mode:k.jg,formLabel:"Add ".concat(t),isInputPageStyle:n})),n&&(X.set("service",e),X.set("action",k.jg),J({search:X.toString()}))},le=function(e,t){var n,a=null===(n=f.find((function(t){return t.name===e.serviceName})))||void 0===n?void 0:n.title;c(te(te({},l),{},{open:!0,isInputPageStyle:!0,serviceName:e.serviceName,stanzaName:e.name,formLabel:t===k.Oh?"Clone ".concat(a):"Update ".concat(a),mode:t})),X.set("service",e.serviceName),X.set("action",t),J({search:X.toString()})},ie=(0,i.useCallback)((function(e,t){var n=t.selectedTabId;L(n);var a=f.find((function(e){return e.name===n}));a&&(D(a.description),V(a.title)),X.set("service",n),J({search:X.toString()}),g}),[x]);return i.createElement(K.Z,null,i.createElement(O.W,{value:null},l.isInputPageStyle&&l.open?i.createElement(Q,{open:l.open,handleRequestClose:function(){c(te(te({},l),{},{open:!1})),X.delete("action"),J({search:X.toString()})},serviceName:l.serviceName,stanzaName:l.stanzaName,mode:l.mode,formLabel:l.formLabel}):null," ",i.createElement("div",{style:l.isInputPageStyle&&l.open?{display:"none"}:{display:"block"}},i.createElement(u(),{gutter:8},i.createElement(ne,null,i.createElement(u().Column,{span:9},i.createElement(_.r3,null,w?(0,N._)(h||""):(0,N._)(Y)),i.createElement(_.pZ,null,w?(0,N._)(b||""):(0,N._)(z||""))),w?!f||null!=E&&E.src?i.createElement(u().Column,{span:3,className:"input_button"},i.createElement(B,{fileName:E.src,type:E.type,handleChange:function(e){var t=e.service;re(t,f.find((function(e){return e.name===t})).title)}})):f.length>1?i.createElement(u().Column,{className:"dropdown",span:3},i.createElement(d(),{toggle:G},i.createElement(v(),{onClick:function(e){var t=f[f.findIndex((function(t){return t.title===e.target.innerText}))].name;re(t,e.target.innerText)}},f.map((function(e){return i.createElement(v().Item,{key:e.name},e.title)}))))):i.createElement(u().Column,{span:3,className:"input_button"},i.createElement(m(),{label:(0,S.P)(100),appearance:"primary",id:"addInputBtn",onClick:function(){re(f[0].name,f[0].title)}})):null)),w?i.createElement(A.Z,{page:P.b,handleOpenPageStyleDialog:le}):i.createElement(i.Fragment,null,i.createElement(C(),{activeTabId:x,onChange:ie},f.map((function(e){return i.createElement(C().Tab,{key:e.name,label:(0,N._)(e.title),tabId:e.name}," ")}))),f.map((function(e){return i.createElement("div",{key:e.name,style:e.name!==x?{display:"none"}:{display:"block"},id:"".concat(e.name,"Tab")},i.createElement(A.Z,{page:P.b,serviceName:e.name,handleRequestModalOpen:function(){return re(e.name,e.title)},handleOpenPageStyleDialog:le}))}))),i.createElement(y(),{position:"top-right"}),!l.isInputPageStyle&&l.open?i.createElement(F.Z,{page:P.b,open:l.open,handleRequestClose:function(){c(te(te({},l),{},{open:!1}))},serviceName:l.serviceName,mode:k.jg,formLabel:l.formLabel}):null)))}}}]);