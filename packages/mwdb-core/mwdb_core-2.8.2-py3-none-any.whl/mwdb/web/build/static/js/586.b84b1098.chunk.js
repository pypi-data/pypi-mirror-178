"use strict";(self.webpackChunkmwdb_web=self.webpackChunkmwdb_web||[]).push([[586],{62586:function(e,n,r){r.r(n);var t=r(70885),a=r(37762),o=r(74165),u=r(15861),i=r(72791),s=r(54164),c=r(24572),l=r(96262),d=r(39055),f=r(80184);n.default=function(e){var n=(0,d.R)(),r=(new c.graphlib.Graph).setGraph({compound:!0}),h=new c.render,p=(0,i.useRef)(null),m=(0,i.useRef)({refCounter:0,slaveContainer:null,svgClone:null,transform:null}),v=e.nodeComponent,C=(0,i.useRef)(null);r.graph().transition=function(e){return e.transition().duration(500)};var g=function(){return l.zoomIdentity.translate(p.current.clientWidth/2-200,e.height/3-100)},w=function(){var e=(0,u.Z)((0,o.Z)().mark((function e(r){var t;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.createElement("div"),e.abrupt("return",new Promise((function(e){s.render((0,f.jsx)(v,{node:r,remotePath:n}),t,(function(){return e(t)}))})));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),b=function(){var e=m.current,n=l.select(C.current.firstChild);return e.refCounter++||(e.slaveContainer=document.createElement("div"),e.slaveContainer.style.visibility="hidden",p.current.parentNode.appendChild(e.slaveContainer),e.svgClone=C.current.cloneNode(!0),p.current.replaceChild(e.svgClone,C.current),e.slaveContainer.appendChild(C.current),e.transform=n.attr("transform"),e.transform||(e.transform=g()),n.attr("transform","")),function(){--e.refCounter||(n.attr("transform",e.transform),p.current.replaceChild(C.current,e.svgClone),p.current.parentNode.removeChild(e.slaveContainer))}},x=function(){var n=(0,u.Z)((0,o.Z)().mark((function n(){var i,s,c,d,f,p,m,v,x,y,Z,k,E;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=b(),s=l.select(C.current),c=l.select(C.current.firstChild),n.next=5,Promise.all(e.nodes.map(function(){var e=(0,u.Z)((0,o.Z)().mark((function e(n){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n,e.next=3,w(n);case 3:return e.t1=e.sent,e.abrupt("return",[e.t0,e.t1]);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 5:d=n.sent,f=(0,a.Z)(d);try{for(f.s();!(p=f.n()).done;)m=(0,t.Z)(p.value,2),v=m[0],x=m[1],r.setNode(v.id,{labelType:"html",label:x.outerHTML,class:v.expanded?"expanded-node":"not-expanded-node"})}catch(N){f.e(N)}finally{f.f()}y=(0,a.Z)(e.edges);try{for(y.s();!(Z=y.n()).done;)k=Z.value,r.setEdge(k.parent,k.child,{label:"",lineInterpolate:"basis"})}catch(N){y.e(N)}finally{y.f()}r.nodes().forEach((function(e){var n=r.node(e);n.rx=n.ry=5,n.padding=0})),r.graph().rankDir="LR",r.edges().forEach((function(e){return r.edge(e)})),E=l.zoom().on("zoom",(function(){return c.attr("transform",l.event.transform+g())})),s.call(E),h(c,r),s.selectAll(".dagre-d3 .node").on("click",(function(n){return e.onNodeClick(n)})),s.attr("height",e.height),s.attr("width",e.width),i();case 20:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,i.useEffect)((function(){x()}),[e.nodes,e.edges]),(0,f.jsx)("div",{ref:p,children:(0,f.jsx)("svg",{className:"dagre-d3",ref:C,width:e.width,height:e.height,remote:e.remote,children:(0,f.jsx)("g",{})})})}}}]);
//# sourceMappingURL=586.b84b1098.chunk.js.map