Metadata-Version: 2.1
Name: saltext.sap-nwabap
Version: 1.0.0
Summary: SaltStack extension for SAP NetWeaver AS ABAP
Home-page: https://github.com/SAPUCC/saltext-sap_nwabap
Author: 'Benjamin Wegener, Alexander Wilke'
License: GPLv3
Project-URL: Source, https://github.com/SAPUCC/saltext-sap_nwabap
Project-URL: Tracker, https://github.com/SAPUCC/saltext-sap_nwabap/issues
Keywords: salt-extension
Platform: any
Classifier: Programming Language :: Python
Classifier: Programming Language :: Cython
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3 :: Only
Classifier: Programming Language :: Python :: 3.6
Classifier: Programming Language :: Python :: 3.7
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Requires-Python: >=3.6
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: salt (>=3003)
Requires-Dist: pyrfc
Provides-Extra: dev
Requires-Dist: nox (==2021.6.12) ; extra == 'dev'
Requires-Dist: pre-commit (==2.13.0) ; extra == 'dev'
Requires-Dist: pylint ; extra == 'dev'
Requires-Dist: six ; extra == 'dev'
Requires-Dist: SaltPyLint ; extra == 'dev'
Provides-Extra: docs
Requires-Dist: furo ; extra == 'docs'
Requires-Dist: sphinx ; extra == 'docs'
Requires-Dist: sphinx-copybutton ; extra == 'docs'
Requires-Dist: sphinx-prompt ; extra == 'docs'
Requires-Dist: sphinxcontrib-spelling ; extra == 'docs'
Requires-Dist: importlib-metadata ; (python_version < "3.8") and extra == 'docs'
Provides-Extra: docsauto
Requires-Dist: sphinx-autobuild ; extra == 'docsauto'
Provides-Extra: tests
Requires-Dist: pytest (==6.2.4) ; extra == 'tests'
Requires-Dist: pytest-salt-factories (==0.906.0) ; extra == 'tests'

# SaltStack SAP NetWeaver AS ABAP extension
This SaltStack extensions allows managing SAP NetWeaver AS ABAP systems over ``pyrfc`` resp. the SAP NW RFC SDK.

**THIS PROJECT IS NOT ASSOCIATED WITH SAP IN ANY WAY**

## Installation
Run the following to install the SaltStack SAP NetWeaver AS ABAP extention:
```bash
salt-call pip.install saltext.sap-nwabap
```
Note that this will install ``pyrfc`` as a dependency which requires the correct setup of the SAP NW RFC SDK as a
prerequisite. See https://github.com/SAP/PyRFC for more information.

Keep in mind that this package must be installed on every minion that should utilize the states and execution modules.

Alternatively, you can add this repository directly over gitfs
```yaml
gitfs_remotes:
  - https://github.com/SAPUCC/saltext-sap_nwabap.git:
    - root: src/saltext/sap_nwabap
```
In order to enable this, logical links under `src/saltext/sap_nwabap/` from `_<dir_type>` (where the code lives) to `<dir_type>` have been placed, e.g. `_modules` -> `modules`. This will double the source data during build, but:
 * `_modules` is required for integrating the repo over gitfs
 * `modules` is required for the salt loader to find the modules / states

## Usage
A state using the SAP NetWeaver AS ABAP extension looks like this:
```jinja
Technical user SALT for SAP system S4H / client 000 is present:
  sap_nwabap.user_present:
    - name: SALT
    - sid: S4H
    - client: "000"
    - message_server_host: s4h
    - message_server_port: 3600
    - logon_group: SPACE
    - username: DDIC
    - password: __slot__:salt:vault.read_secret(path="nwabap/S4H/000", key="DDIC")
    - user_password: __slot__:salt:vault.read_secret(path="nwabap/S4H/000", key="SALT")
    - attributes:
        logon_data:
          user_type: B
          user_valid_to: "99991231"
        address_data:
          first_name: SALT_SERVICE_USER
          last_name: SALT_SERVICE_USER
    - roles:
      - name: Z_SALT_ROLE
        valid_to: 99991231
    - profiles:
      - SAP_ALL
    - unlock_user: True
```

## Docs
See https://saltext-sap-nwabap.readthedocs.io/ for the documentation.

## Contributing
We would love to see your contribution to this project. Please refer to `CONTRIBUTING.md` for further details.

## License
This project is licensed under GPLv3. See `LICENSE.md` for the license text and `COPYRIGHT.md` for the general copyright notice.


